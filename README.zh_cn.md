# CombineX

![travis](https://img.shields.io/travis/cxswift/CombineX.svg)
![release](https://img.shields.io/github/release-pre/cxswift/combinex)
![install](https://img.shields.io/badge/install-spm%20%7C%20cocoapods%20%7C%20carthage-ff69b4)
![platform](https://img.shields.io/badge/platform-ios%20%7C%20macos%20%7C%20watchos%20%7C%20tvos%20%7C%20linux-lightgrey)
![license](https://img.shields.io/github/license/cxswift/combinex?color=black)

CombineX æ˜¯ Apple's [Combine](https://developer.apple.com/documentation/combine) çš„å¼€æºå®ç°ã€‚å®ƒå¯ä»¥è®©ä½ æ‘†è„±å¹³å°ä¸ç‰ˆæœ¬çš„é™åˆ¶ï¼Œç°åœ¨å°±ç”¨ä¸Š Combine çš„ APIã€‚

## æ³¨æ„

æœ¬åº“ä»åœ¨ beta æµ‹è¯•ï¼Œæ‰€ä»¥ï¼Œ**è¿˜ä¸å¯ä»¥æŠŠå®ƒç”¨åœ¨ç”Ÿäº§é¡¹ç›®ä¸­ï¼**

ğŸ±

## çŠ¶æ€

ä¸ Combine beta 6 å…¼å®¹ã€‚

## ä»€ä¹ˆæ˜¯ Combine

Combine æ˜¯ Apple åœ¨ WWDC 2019 ä¸Šæ¨å‡ºçš„å“åº”å¼æ¡†æ¶ï¼Œå®ƒã€Œå‚è€ƒã€äº† [ReactiveX](http://reactivex.io/) çš„æ¥å£è®¾è®¡ï¼Œä¸º Swift å¼‚æ­¥ç¼–ç¨‹æä¾›äº†é’¦å®šå®ç°ã€‚åœ¨å¯é¢„è§çš„å°†æ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸º Swift ç¼–ç¨‹çš„åŸºçŸ³ã€‚

## ä»€ä¹ˆæ˜¯ CombineX

CombineX æ˜¯ Combine çš„å¼€æºå®ç°ã€‚é™¤äº†æœ‰ç€ä¸ Combine ä¸€è‡´çš„ API å’Œè¡Œä¸ºï¼Œå®ƒè¿˜æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

### 1. ç‰ˆæœ¬ä¸å¹³å°

`Combine` æœ‰æé«˜çš„ç‰ˆæœ¬é™åˆ¶ï¼šmacOS 10.15+ï¼ŒiOS 13+ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿ä½ çš„ App åªéœ€è¦å‘å‰å…¼å®¹ä¸¤ä¸ªç‰ˆæœ¬ï¼Œä¹Ÿéœ€è¦ä¸¤ä¸‰å¹´åæ‰èƒ½ç”¨å¾—ä¸Šå®ƒã€‚`Combine` æ˜¯ Apple å¹³å°ç‹¬å çš„ï¼Œä¸æ”¯æŒ Linuxã€‚

`CombineX` å¸®ä½ æ‘†è„±äº†è¿™äº›é™åˆ¶ï¼Œå®ƒæ”¯æŒ macOS 10.12+ï¼ŒiOS 10+ï¼Œæ”¯æŒ Linuxã€‚é€šè¿‡ `CombineX`ï¼Œä½ å¯ä»¥åœ¨æ›´å¤šçš„å¹³å°å’Œç‰ˆæœ¬ä¸Šä½¿ç”¨ç›¸åŒçš„ä»£ç ã€‚

### 2. å¼€æº

`Combine` æ˜¯é—­æºçš„ï¼Œå®ƒä¸ `UIKit`ï¼Œ`MapKit` ç­‰ä¸€æ ·ï¼Œéšç€ xcode çš„æ›´æ–°è€Œæ›´æ–°ã€‚å½“ä½ é‡åˆ° bug æ—¶ï¼Œã€Œä½ åº”è¯¥é‡åˆ°è¿‡ç³»ç»Ÿåº“çš„ bug å§ã€ï¼Œè°ƒè¯•æ˜¯éå¸¸çƒ¦äººçš„ï¼Œä½†æ›´çƒ¦äººçš„æ˜¯ç¼“æ…¢çš„å®˜æ–¹ååº”ï¼Œé€šå¸¸ä½ é™¤äº†ç­‰å¾…ä¸‹ä¸€æ¬¡ xcode çš„å¸¸è§„æ›´æ–°ä»¥å¤–æ— èƒ½ä¸ºåŠ›ã€‚

### 3. æ‰©å±•

`CombineX` è´´å¿ƒåœ°ä¸ºä½ æä¾›äº†è¯¸å¤šç›¸å…³æ‰©å±•ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š

- [CombineX.Foundation](https://github.com/luoxiu/CombineX.Foundation)ï¼šæä¾›æ‰€æœ‰ `Foundation` çš„æ‰©å±•å®ç°ï¼ŒåŸºäº `CombineX`ã€‚æ¯”å¦‚ `URLSession`ï¼Œ`NotificationCenter`ï¼Œ`Timer`ï¼Œ`DispatchQueue+Scheduler`ï¼Œ`RunLoop+Scheduler`ç­‰ã€‚
- [CombineX.Cocoa](https://github.com/luoxiu/CombineX.Cocoa)ï¼šæä¾› `Cocoa` çš„æ‰©å±•å®ç°ï¼ŒåŸºäº `CombineX`ã€‚æ¯”å¦‚ `KVOPublisher`ï¼Œ`MethodInterceptionPublisher`ï¼Œ`UIKit+CX` ç­‰ã€‚
- [CombineX.Compatible](https://github.com/CombineXCommunity/CombineX.Compatible)ï¼šæä¾› `CombineX` çš„ API Shimsï¼Œå¸®åŠ©ä½ è§£å†³å¯èƒ½ä¼šå‡ºç°çš„è¿ç§»é¡¾è™‘ã€‚é€šè¿‡è¯¥åº“ï¼Œä½ å¯ä»¥åœ¨ä»»ä½•æ—¶å€™è½»æ¾åœ°è¢«åº•å±‚åº“ä» `CombineX` åˆ‡æ¢åˆ° `Combine`ã€‚

#### 3.1 CombineX.Cocoa å®ä¾‹

<p align="center">
<img src="demo.1.gif" height="500">
<img src="demo.2.gif" height="500">
</p>

## å®‰è£…

### Swift Package Manager

```swift
dependencies.append(
    .package(url: "https://github.com/cxswift/CombineX", .branch("master"))
)
```

### CocoaPods

```ruby
pod 'CombineX.swift', :git => 'https://github.com/cxswift/CombineX.git', :branch => 'master'
```

### Carthage

```carthage
github "cxswift/CombineX" "master"
```

## è´¡çŒ®

**æ¬¢è¿ï¼`CombineX` éå¸¸éœ€è¦åä½œè€…ï¼ï¼ï¼**

ç°é˜¶æ®µï¼Œ`CombineX` æœ€éœ€è¦çš„æ˜¯æµ‹è¯•ã€‚ä½ å¯ä»¥ï¼š

1. æ·»åŠ æ›´å¤šçš„åŠŸèƒ½æµ‹è¯•ã€‚
2. ç¡®ä¿ `Specs` èƒ½é€šè¿‡å®ƒã€‚
3. å¦‚æœ `CombineX` ä¸èƒ½é€šè¿‡ï¼Œé‚£è¯´æ˜ä½ å‘ç°äº†ä¸€ä¸ª `CombineX` çš„ bugï¼Œä½ å¯ä»¥å¼€ä¸€ä¸ª issueï¼Œæˆ–è€…ç›´æ¥ä¿®å¤å®ƒï¼

### æµç¨‹

å› ä¸ºå¾ˆå¤šäººè¿˜æ²¡æœ‰å®‰è£… macOS 10.15 betaï¼Œæ¯”å¦‚æˆ‘ï¼Œæ‰€ä»¥ç°åœ¨æ¨èçš„è´¡çŒ®æµç¨‹æ˜¯ï¼š

1. Fork é¡¹ç›®
2. æ‰“å¼€ `Specs/Specs.xcworkspace`ï¼ŒæŠŠä½ çš„ä¿®æ”¹æ”¾åœ¨ `CombineX/CombineX` æ–‡ä»¶å¤¹ä¸‹ã€‚
3. æ‰€æœ‰çš„æµ‹è¯•éƒ½åœ¨ `CombineXTests/CombineXTests` æ–‡ä»¶å¤¹ä¸‹ï¼Œè¦ç¡®ä¿ä½ çš„æµ‹è¯•èƒ½åŒæ—¶é€šè¿‡ `Specs` å’Œ `CombineX` ä¸¤ä¸ª Scheme å“¦ã€‚

## Combine é‡Œçš„ bug

å› ä¸º `Combine` éƒ½è¿˜åœ¨ betaï¼Œéš¾å…å®ƒè‡ªå·±è¿˜æœ‰ bugã€‚å¦‚æœé‡åˆ°ä½ ç†è§£ä¸äº†çš„ç°è±¡ï¼Œå¼€ä¸€ä¸ª issue å’Œæˆ‘ä»¬ä¸€èµ·è®¨è®ºå§ï¼
